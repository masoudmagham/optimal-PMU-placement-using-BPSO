function  [Z, SORI]=IEEE_30_Bus(x1)
    Z = zeros(size(x1,1),1);
    nVar = size(x1,2);

    for ii = 1:size(x1,1)
        x=x1(ii,:);
    end

ldata = [
	1	2	0.0192	0.0575	0.0528	0	0	0	0	0	1	-360	360;
	1	3	0.0452	0.1652	0.0408	0	0	0	0	0	1	-360	360;
	2	4	0.057	0.1737	0.0368	0	0	0	0	0	1	-360	360;
	3	4	0.0132	0.0379	0.0084	0	0	0	0	0	1	-360	360;
	2	5	0.0472	0.1983	0.0418	0	0	0	0	0	1	-360	360;
	2	6	0.0581	0.1763	0.0374	0	0	0	0	0	1	-360	360;
	4	6	0.0119	0.0414	0.009	0	0	0	0	0	1	-360	360;
	5	7	0.046	0.116	0.0204	0	0	0	0	0	1	-360	360;
	6	7	0.0267	0.082	0.017	0	0	0	0	0	1	-360	360;
	6	8	0.012	0.042	0.009	0	0	0	0	0	1	-360	360;
	6	9	0	0.208	0	0	0	0	0.978	0	1	-360	360;
	6	10	0	0.556	0	0	0	0	0.969	0	1	-360	360;
	9	11	0	0.208	0	0	0	0	0	0	1	-360	360;
	9	10	0	0.11	0	0	0	0	0	0	1	-360	360;
	4	12	0	0.256	0	0	0	0	0.932	0	1	-360	360;
	12	13	0	0.14	0	0	0	0	0	0	1	-360	360;
	12	14	0.1231	0.2559	0	0	0	0	0	0	1	-360	360;
	12	15	0.0662	0.1304	0	0	0	0	0	0	1	-360	360;
	12	16	0.0945	0.1987	0	0	0	0	0	0	1	-360	360;
	14	15	0.221	0.1997	0	0	0	0	0	0	1	-360	360;
	16	17	0.0524	0.1923	0	0	0	0	0	0	1	-360	360;
	15	18	0.1073	0.2185	0	0	0	0	0	0	1	-360	360;
	18	19	0.0639	0.1292	0	0	0	0	0	0	1	-360	360;
	19	20	0.034	0.068	0	0	0	0	0	0	1	-360	360;
	10	20	0.0936	0.209	0	0	0	0	0	0	1	-360	360;
	10	17	0.0324	0.0845	0	0	0	0	0	0	1	-360	360;
	10	21	0.0348	0.0749	0	0	0	0	0	0	1	-360	360;
	10	22	0.0727	0.1499	0	0	0	0	0	0	1	-360	360;
	21	22	0.0116	0.0236	0	0	0	0	0	0	1	-360	360;
	15	23	0.1	0.202	0	0	0	0	0	0	1	-360	360;
	22	24	0.115	0.179	0	0	0	0	0	0	1	-360	360;
	23	24	0.132	0.27	0	0	0	0	0	0	1	-360	360;
	24	25	0.1885	0.3292	0	0	0	0	0	0	1	-360	360;
	25	26	0.2544	0.38	0	0	0	0	0	0	1	-360	360;
	25	27	0.1093	0.2087	0	0	0	0	0	0	1	-360	360;
	28	27	0	0.396	0	0	0	0	0.968	0	1	-360	360;
	27	29	0.2198	0.4153	0	0	0	0	0	0	1	-360	360;
	27	30	0.3202	0.6027	0	0	0	0	0	0	1	-360	360;
	29	30	0.2399	0.4533	0	0	0	0	0	0	1	-360	360;
	8	28	0.0636	0.2	0.0428	0	0	0	0	0	1	-360	360;
	6	28	0.0169	0.0599	0.013	0	0	0	0	0	1	-360	360;
];

    A=[];
    % Create Adjacency Matrix
    for c1=1:size(ldata,1)                  
        A(ldata(c1,1),ldata(c1,2))=1;  
        A(ldata(c1,2),ldata(c1,1))=1;
        A(ldata(c1,2),ldata(c1,2))=1;  
        A(ldata(c1,1),ldata(c1,1))=1; 
    end

    u=ones(nVar,1);
%     x=round(x);
    f=A*(x');
    a=f.*u;
    SORI = sum(a);
    d=find(a==0);
    if isempty(d) 
        Z=sum(x);
    else
        Z=numel(d)*nVar;  
	end
end
